import{x as G,y as H,z as F,A,B as b,s as R,C as E,j as I,_ as N,u as k,g as w,D as T,a as S,o as z,b as m,F as B,i as O,t as h,n as W,c as L,f as Y,k as D}from"./index-C7OPEKj1.js";function X(t){return H()?(F(t),!0):!1}const Z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const U=Object.prototype.toString,J=t=>U.call(t)==="[object Object]";function M(t){return Array.isArray(t)?t:[t]}function K(t,e,n){return G(t,e,{...n,immediate:!0})}const e0=Z?window:void 0;function t0(t){var e;const n=E(t);return(e=n?.$el)!=null?e:n}function q(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},o=(a,u,s,r)=>(a.addEventListener(u,s,r),()=>a.removeEventListener(u,s,r)),i=b(()=>{const a=M(E(t[0])).filter(u=>u!=null);return a.every(u=>typeof u!="string")?a:void 0}),p=K(()=>{var a,u;return[(u=(a=i.value)==null?void 0:a.map(s=>t0(s)))!=null?u:[e0].filter(s=>s!=null),M(E(i.value?t[1]:t[0])),M(I(i.value?t[2]:t[1])),E(i.value?t[3]:t[2])]},([a,u,s,r])=>{if(n(),!a?.length||!u?.length||!s?.length)return;const v=J(r)?{...r}:r;e.push(...a.flatMap(x=>u.flatMap($=>s.map(_=>o(x,$,_,v)))))},{flush:"post"}),d=()=>{p(),n()};return X(n),d}function n0(t,e={}){const{threshold:n=50,onSwipe:o,onSwipeEnd:i,onSwipeStart:p,passive:d=!0}=e,a=A({x:0,y:0}),u=A({x:0,y:0}),s=b(()=>a.x-u.x),r=b(()=>a.y-u.y),{max:v,abs:x}=Math,$=b(()=>v(x(s.value),x(r.value))>=n),_=R(!1),f=b(()=>$.value?x(s.value)>x(r.value)?s.value>0?"left":"right":r.value>0?"up":"down":"none"),c=l=>[l.touches[0].clientX,l.touches[0].clientY],g=(l,y)=>{a.x=l,a.y=y},P=(l,y)=>{u.x=l,u.y=y},j={passive:d,capture:!d},Q=l=>{_.value&&i?.(l,f.value),_.value=!1},V=[q(t,"touchstart",l=>{if(l.touches.length!==1)return;const[y,C]=c(l);g(y,C),P(y,C),p?.(l)},j),q(t,"touchmove",l=>{if(l.touches.length!==1)return;const[y,C]=c(l);P(y,C),j.capture&&!j.passive&&Math.abs(s.value)>Math.abs(r.value)&&l.preventDefault(),!_.value&&$.value&&(_.value=!0),_.value&&o?.(l)},j),q(t,["touchend","touchcancel"],Q,j)];return{isSwiping:_,direction:f,coordsStart:a,coordsEnd:u,lengthX:s,lengthY:r,stop:()=>V.forEach(l=>l()),isPassiveEventSupported:!0}}const s0={class:"sura-names"},a0={class:"page-number"},r0={class:"juz-number"},o0={__name:"PageHeader",props:{juzStart:Boolean},setup(t){const e=t,n=k(),o=w([]),i=n.currentPage,p=b(()=>n.quran.flatMap(r=>r.ayahs.filter(v=>v.page===n.currentPage))[0]?.juz),d=b(()=>n.quranInfo.juzs.references.find(r=>r.juz===p.value)?.name),a=b(()=>e.juzStart?{backgroundColor:n.textColor,color:n.backgroundColor}:{background:n.backgroundColor,color:n.textColor});T(()=>{u()});const u=()=>{for(const s of n.quran)s.ayahs.find(r=>r.page===i&&r.numberInSurah===1)&&o.value.push({number:s.number,name:s.name.replace("سُورَةُ","").trim()});if(!o.value.length)for(const s of n.quran)s.ayahs.find(r=>r.page===i)&&o.value.push({number:s.number,name:s.name.replace("سُورَةُ","").trim()})};return(s,r)=>(z(),S("div",{class:"page-header",style:W(a.value)},[m("div",s0,[(z(!0),S(B,null,O(o.value,v=>(z(),S("p",{key:v.number},h(v.number)+" - "+h(v.name),1))),128))]),m("p",a0,h(I(n).currentPage),1),m("p",r0,h(d.value)+" - "+h(p.value),1)],4))}},u0=N(o0,[["__scopeId","data-v-9a5c39fb"]]),c0={class:"page-footer"},l0={class:"juz-number"},i0={class:"page-number"},p0={class:"manzil-number"},d0={__name:"PageFooter",setup(t){const e=k(),n=b(()=>{const p=e.quran.flatMap(d=>d.ayahs.filter(a=>a.page===e.currentPage));return p[p.length-1]?.manzil}),o=b(()=>e.quran.flatMap(d=>d.ayahs.filter(a=>a.page===e.currentPage))[0]?.juz),i=b(()=>e.quranInfo.juzs.references.find(d=>d.juz===o.value)?.name);return(p,d)=>(z(),S("div",c0,[m("p",l0,h(i.value)+" - "+h(o.value),1),m("p",i0,h(I(e).currentPage),1),m("p",p0,"منزل - "+h(n.value),1)]))}},f0=N(d0,[["__scopeId","data-v-fefa9bab"]]),m0={class:"sura-start"},g0={class:"new-sura"},h0={class:"new-sura-english-name"},v0={class:"new-sura-length"},_0={class:"new-sura-location"},b0={class:"new-sura-arabic-name"},S0={key:0,class:"start"},z0={__name:"SuraStart",props:{suraNumber:Number},setup(t){const e=t,n=k(),o=w(null);return T(()=>{o.value=n.quranInfo.surahs.references.find(i=>i.number===e.suraNumber)}),(i,p)=>(z(),S("div",m0,[m("div",g0,[m("p",h0,h(`${o.value?.number} - ${o.value?.englishName}`),1),m("p",v0,h(o.value?.numberOfAyahs),1),m("p",_0,h(o.value?.revelationType),1),m("p",b0,h(`${o.value?.number} - ${o.value?.name}`),1)]),t.suraNumber!==9?(z(),S("p",S0,"بِسْمِ اللّٰهِ الرَّحْمٰنِ الرَّحِیْمِ")):L("",!0)]))}},x0=N(z0,[["__scopeId","data-v-237c3bec"]]),y0="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='64.000000pt'%20height='64.000000pt'%20viewBox='0%200%2064.000000%2064.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,64.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M170%20571%20c-14%20-26%20-14%20-476%200%20-502%2013%20-22%2050%20-26%2050%20-4%200%208%205%2015%2010%2015%206%200%209%20-6%208%20-12%20-2%20-7%207%20-14%2020%20-16%2015%20-2%2022%202%2022%2012%200%209%205%2016%2010%2016%206%200%209%20-6%208%20-12%20-2%20-8%207%20-13%2022%20-13%2015%200%2024%205%2022%2013%20-1%206%202%2012%208%2012%205%200%2010%20-7%2010%20-16%200%20-10%207%20-14%2023%20-12%2012%202%2021%209%2019%2016%20-1%206%202%2012%208%2012%205%200%2010%20-7%2010%20-15%200%20-22%2037%20-18%2050%204%2014%2026%2014%20476%200%20502%20-13%2022%20-50%2026%20-50%204%200%20-8%20-4%20-15%20-10%20-15%20-5%200%20-9%206%20-7%2012%201%207%20-8%2014%20-20%2016%20-16%202%20-23%20-2%20-23%20-12%200%20-9%20-4%20-16%20-10%20-16%20-5%200%20-9%206%20-7%2013%201%207%20-8%2012%20-23%2012%20-15%200%20-24%20-5%20-22%20-12%201%20-7%20-2%20-13%20-8%20-13%20-5%200%20-10%207%20-10%2016%200%2010%20-7%2014%20-22%2012%20-13%20-2%20-22%20-9%20-20%20-16%201%20-6%20-3%20-12%20-8%20-12%20-5%200%20-10%207%20-10%2015%200%2022%20-37%2018%20-50%20-4z%20m278%20-248%20l-3%20-198%20-125%200%20-125%200%20-3%20198%20-2%20197%20130%200%20130%200%20-2%20-197z'/%3e%3cpath%20d='M210%20320%20l0%20-180%20110%200%20110%200%200%20180%200%20180%20-110%200%20-110%200%200%20-180z%20m148%20132%20c28%20-22%2043%20-74%2049%20-169%206%20-103%20-1%20-113%20-87%20-113%20-58%200%20-71%203%20-80%2019%20-13%2024%20-13%20155%20-1%20179%206%209%2012%2028%2015%2042%205%2023%2048%2059%2071%2060%206%200%2020%20-8%2033%20-18z'/%3e%3cpath%20d='M292%20434%20c-14%20-9%20-22%20-26%20-22%20-43%200%20-15%20-5%20-32%20-10%20-37%20-6%20-6%20-10%20-43%20-8%20-85%20l3%20-74%2065%200%2065%200%203%2074%20c2%2042%20-2%2079%20-8%2085%20-5%205%20-10%2022%20-10%2037%200%2024%20-30%2059%20-50%2059%20-3%200%20-16%20-7%20-28%20-16z'/%3e%3c/g%3e%3c/svg%3e",P0="/assets/qtr-BbgfHEZG.svg",$0="/assets/tqtr-DanHTZFG.svg",j0="/assets/half-DVokNIOQ.svg",w0={class:"page"},C0={class:"header"},E0={key:0},N0=["innerHTML"],k0={class:"footer"},D0={__name:"Page",setup(t){const e=k(),n=Y(),o=w([]),i=w(null),p=w([]),d=w(!1),a={fontSize:`${e.fontSize}px`,letterSpacing:e.letterSpacing,color:e.textColor,backgroundColor:e.backgroundColor},u={border:`1px solid ${e.textColor}`,margin:"10px"};T(()=>{o.value=r(),v()});const s=()=>e.quran.flatMap(f=>f.ayahs.filter(c=>c.page===e.currentPage)),r=()=>{const f=s();return d.value=f[0].juzStart,x(f)},v=()=>{o.value.forEach(f=>{p.value.push({number:f[0].numberInSurah===1?f[0].number:0,text:f.map(c=>`
      <span>${c.text}</span>
      ${c.sajda?`<img src="${y0}" class="indicator"/>`:""}
      ${c.hizbQuarter%8-2===0&&c.hizbQuarterEnd?`<img src="${P0}" class="indicator"/>`:""}
      ${c.hizbQuarter%8-4===0&&c.hizbQuarterEnd?`<img src="${j0}" class="indicator"/>`:""}
      ${c.hizbQuarter%8-6===0&&c.hizbQuarterEnd?`<img src="${$0}" class="indicator"/>`:""}
      `).join(" ")})})};function x(f){const c=[];let g=[];return f.forEach((P,j)=>{P.numberInSurah===1&&g.length>0&&(c.push(g),g=[]),g.push(P)}),g.length>0&&c.push(g),c}const $=f=>e.quran.find(c=>c.ayahs.some(g=>g.number===f))?.number||null,{direction:_}=n0(i,{threshold:30,onSwipeEnd:()=>{_.value==="left"?(e.currentPage!==1&&e.setCurrentPageNumber(e.currentPage-1),n.replace({name:"previousPage",params:{pageNumber:e.currentPage}})):_.value==="right"&&(e.currentPage!==604&&e.setCurrentPageNumber(e.currentPage+1),n.replace({name:"nextPage",params:{pageNumber:e.currentPage}}))}});return(f,c)=>(z(),S("div",w0,[m("div",C0,[D(u0,{juzStart:d.value},null,8,["juzStart"])]),m("div",{class:"content",style:u,ref_key:"swipeArea",ref:i},[(z(!0),S(B,null,O(p.value,(g,P)=>(z(),S("div",{class:"page-wrapper",key:P},[g.number!==0?(z(),S("div",E0,[D(x0,{class:"sura-start",suraNumber:$(g.number)},null,8,["suraNumber"])])):L("",!0),m("p",{style:a,class:"text",innerHTML:g.text},null,8,N0)]))),128))],512),m("div",k0,[D(f0)])]))}},I0=N(D0,[["__scopeId","data-v-726358a4"]]);export{I0 as P};
